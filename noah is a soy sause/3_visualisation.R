rm(list = ls()); gc()
load("../Datathon_Full_Dataset/subsetRateAccount_noTail.RData")
load("../Datathon_Full_Dataset/subsetRateLoc.RData")
##########################################################################
## 1. visualisation ######################################################
##########################################################################
## 1.1 ACCOUNT oriented graph
str(subsetRateAccount_noTail)
# $ ACCOUNT_ID               : chr  "1000002" "1000004" "1000005" "1000006" ...
# $ COUNTRY_OF_RESIDENCE_NAME: chr  "United Kingdom" "United Kingdom" "United Kingdom" "Australia" ...
# $ CNT_L                    : int  176 23 74 46 57 63 34 2 5 17 ...
# $ PROFIT_LOSS_L            : num  -90.5 -24.1 -64.2 -12.5 -95.6 ...
# $ CNT_W                    : int  163 6 83 58 29 44 4 11 6 29 ...
# $ PROFIT_LOSS_W            : num  105.5 20.7 44.6 15.3 169.6 ...
# $ WINRATE                  : num  0.481 0.207 0.529 0.558 0.337 ...

## just take a look
hist(subsetRateAccount_noTail$WINRATE) # a very balanced histgram
hist(subsetRateAccount_noTail$PROFIT_LOSS_L + subsetRateAccount_noTail$PROFIT_LOSS_W) # a long head of loss
hist(subsetRateAccount_noTail$CNT_L + subsetRateAccount_noTail$CNT_W) # a long tail of large no. of transactions

## 1.2 LOC oriented graph
str(subsetRateLoc)
# $ COUNTRY_OF_RESIDENCE_NAME: chr  "United Kingdom" "Australia" "Malta" "India" ...
# $ CNT_ACCOUNT              : int  3686 1113 1244 448 579 811 133 1321 10 15 ...
# $ CNT_TRANS_L              : int  388811 57090 138808 30726 191407 155870 4133 248442 1046 1090 ...
# $ CNT_TRANS_W              : int  379408 53681 133294 24912 212364 161389 4874 246165 817 1183 ...
# $ PROFIT_LOSS_L            : num  -530838 -159824 -280696 -30856 -203652 ...
# $ PROFIT_LOSS_W            : num  569546 176694 285856 41052 188122 ...
# $ PROFIT_LOSS_PER_ACCT     : num  10.5 15.16 4.15 22.76 -26.82 ...
# $ WINRATE                  : num  0.494 0.485 0.49 0.448 0.526 ...

## just take a look
hist(subsetRateLoc$CNT_ACCOUNT) # a long tail of big no. of accounts

## keep going after dinner!!!

